<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FXコントロールパネル</title>
  <link rel="stylesheet" href="style.css" />

  <!-- ✅ OneSignal SDK 読み込み -->
  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
  <script>
    window.OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: "478eae6e-2a31-446e-8b47-b596293afa68",
        notifyButton: {
          enable: true,
        },
        allowLocalhostAsSecureOrigin: true
      });

      // 初回ロード時に通知を送る（テスト）
      OneSignal.sendSelfNotification(
        "ページを開きました！（テスト）",
        "通知は正常に動作しています。",
        window.location.href,
        null
      );
    });
  </script>
</head>
<body>
  <h1>FX 自動売買パネル</h1>

  <section id="system">
    <label>
      <input type="checkbox" id="toggleSystem" />
      <span id="systemStatus">停止中</span>
    </label>
    <p>最終エントリー: <span id="lastEntry">--</span></p>
  </section>

  <section id="summary">
    <p>勝率: <span id="statWinRate">--%</span></p>
    <p>合計pips: <span id="statPips">--</span></p>
    <p>平均RR: <span id="statRR">--</span></p>
  </section>

  <section id="status">
    <p>通知: <span id="notifyStatus">未確認</span></p>
    <p>CSV: <span id="csvStatus">未確認</span></p>
  </section>

  <!-- 🔽 data.jsの内容 -->
  <script>
    const tradeLog = [
      {
        date: "2025-06-24",
        time: "21:35",
        result: 1,
        pips: 30.0,
        rr: 2.0
      },
      {
        date: "2025-06-24",
        time: "22:10",
        result: 0,
        pips: -15.0,
        rr: 0.5
      }
    ];
    const balance = 231000;
  </script>

  <!-- 🔽 メインスクリプト -->
  <script src="script.js"></script>
</body>
</html>
